constructor {
  Create : (base_vault_id: actor_id, quote_vault_id: actor_id, base_token_id: [u8, 20], quote_token_id: [u8, 20], max_trades: u32, max_preview_scans: u32);
};

service Orderbook {
  CancelOrder : (order_id: u64) -> null;
  Deposit : (account: actor_id, token: [u8, 20], amount: u128) -> bool;
  PopulateDemoOrders : (seed: u64, levels: u16, orders_per_level: u16, mid_price: u128, tick_bps: u16, min_amount_base: u128, max_amount_base: u128) -> struct { u32, u32, u64, u64 };
  /// Submits an order and immediately matches against the book.
  /// Limit remainder is placed as resting order inside the book.
  SubmitOrder : (side: u16, kind: u16, limit_price: u128, amount_base: u128, max_quote: u128) -> u64;
  WithdrawBase : (amount: u128) -> null;
  WithdrawQuote : (amount: u128) -> null;
  query BalanceOf : (who: actor_id) -> struct { u128, u128 };
  query BestAskPrice : () -> u128;
  query BestBidPrice : () -> u128;
  query OrderById : (order_id: u64) -> struct { bool, u64, actor_id, u16, u128, u128, u128 };
  query Orders : (offset: u32, count: u32) -> vec struct { u64, actor_id, u16, u128, u128, u128 };
  query OrdersReverse : (offset: u32, count: u32) -> vec struct { u64, actor_id, u16, u128, u128, u128 };
};

